(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85607],{76044:function(t,e,n){"use strict";var r=n(34885),i=function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)};var a=function(t){var e=t.animate,n=t.backgroundColor,a=t.backgroundOpacity,u=t.baseUrl,o=t.children,c=t.foregroundColor,l=t.foregroundOpacity,s=t.gradientRatio,f=t.uniqueKey,d=t.interval,p=t.rtl,m=t.speed,h=t.style,g=t.title,v=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),Z=f||Math.random().toString(36).substring(6),w=Z+"-diff",b=Z+"-animated-diff",y=Z+"-aria",x=p?{transform:"scaleX(-1)"}:null,_="0; "+d+"; 1",k=m+"s";return(0,r.createElement)("svg",i({"aria-labelledby":y,role:"img",style:i(i({},h),x)},v),g?(0,r.createElement)("title",{id:y},g):null,(0,r.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+u+"#"+w+")",style:{fill:"url("+u+"#"+b+")"}}),(0,r.createElement)("defs",{role:"presentation"},(0,r.createElement)("clipPath",{id:w},o),(0,r.createElement)("linearGradient",{id:b},(0,r.createElement)("stop",{offset:"0%",stopColor:n,stopOpacity:a},e&&(0,r.createElement)("animate",{attributeName:"offset",values:-s+"; "+-s+"; 1",keyTimes:_,dur:k,repeatCount:"indefinite"})),(0,r.createElement)("stop",{offset:"50%",stopColor:c,stopOpacity:l},e&&(0,r.createElement)("animate",{attributeName:"offset",values:-s/2+"; "+-s/2+"; "+(1+s/2),keyTimes:_,dur:k,repeatCount:"indefinite"})),(0,r.createElement)("stop",{offset:"100%",stopColor:n,stopOpacity:a},e&&(0,r.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+s),keyTimes:_,dur:k,repeatCount:"indefinite"})))))};a.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var u=function(t){return t.children?(0,r.createElement)(a,i({},t)):(0,r.createElement)(o,i({},t))},o=function(t){return(0,r.createElement)(u,i({viewBox:"0 0 476 124"},t),(0,r.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,r.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};e.ZP=u},35228:function(t,e,n){"use strict";n.d(e,{D1:function(){return a},sF:function(){return i}});var r=n(79547),i=function(t){return{type:r.oh,payload:{filmGroups:t}}},a=function(t){return{type:r.mJ,payload:{filmGroup:t}}}},16977:function(t,e,n){"use strict";var r=n(35155),i=n(43480);var a=function(t){var e=t.rounded,n=100*t.percentage;return n<0&&(n=0),n>100&&(n=100),(0,i.tZ)(o,{rounded:e,children:(0,i.tZ)(c,{width:n})})};a.defaultProps={rounded:!1,percentage:0};var u={name:"1j6sggw",styles:"overflow:hidden;border-radius:3px"},o=(0,r.Z)("div",{target:"e7cj8g01"})("height:5px;background-color:",(function(t){return t.theme.color.progressBar.background}),";",(function(t){return t.rounded&&u}),";"),c=(0,r.Z)("div",{target:"e7cj8g00"})("height:100%;width:",(function(t){return t.width}),"%;background-color:",(function(t){return t.theme.color.criticLoadingFg}),";");e.Z=a},80345:function(t,e,n){"use strict";var r=n(35155),i=n(38118),a=n(88334),u=n(43480),o={small:"46px",medium:"60px",large:"90px"},c=function(t,e){return t||o[e]},l=function(t){var e=t.size,n=t.sizePreset,r=t.onClick,o=t.href,l=t.showPause,f=(0,u.tZ)(s,{size:c(e,n),onClick:r,"data-cy":"play-button",children:(0,u.tZ)(a.o1,{width:"100%",showPause:l})});return o?(0,u.tZ)(i.Z,{href:o,children:(0,u.tZ)("a",{children:f})}):f};l.defaultProps={size:null,sizePreset:"medium",onClick:function(){},href:null,showPause:!1};var s=(0,r.Z)("div",{target:"e1dyoikp0"})("display:flex;align-items:center;height:",(function(t){return t.size}),";width:",(function(t){return t.size}),";cursor:pointer;");e.Z=l},90686:function(t,e,n){"use strict";var r=(0,n(35155).Z)("li",{target:"e6ssnmz0"})("list-style:none;width:100%;height:208px;margin-bottom:10px;position:relative;display:flex;flex-wrap:wrap;@media (min-width: ",(function(t){return t.theme.mq.tablet}),"){width:370px;&:nth-of-type(1n){margin-right:10px;}&:nth-of-type(2n){margin-right:0;}}@media (min-width: ",(function(t){return t.theme.mq.desktop}),"){&:nth-of-type(2n){margin-right:10px;}&:nth-of-type(3n){margin-right:0;}}@media (min-width: ",(function(t){return t.theme.mq.wide}),"){&:nth-of-type(3n){margin-right:10px;}&:nth-of-type(4n){margin-right:0;}}");e.Z=r},42359:function(t,e,n){"use strict";var r=n(29539),i=n(51705),a=n(65443),u=n.n(a),o=n(34885),c=n(15607),l=n(37462),s=n(78284),f=n(70878),d=n(34214),p=function(){return(0,l.P1)((function(t){return t.user.usersFilmRatings}),(function(t,e){return e}),(function(t,e){return(0,s.BB)(t,e)}))};e.Z=function(t){var e=(0,o.useState)(!1),n=e[0],a=e[1],l=(0,c.v9)((function(t){return t.appState.httpContext})),m=(0,c.v9)((function(t){return t.user.isAuthenticated})),h=(0,o.useMemo)(p,[]),g=(0,c.v9)((function(e){return h(e,t)}),c.wU),v=(0,c.I0)(),Z=function(){var e=(0,i.Z)(u().mark((function e(){var n,r,i,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter((function(t){return!(0,s.nr)(g,t)})),e.prev=1,e.next=4,(0,d.cE)(l,n);case 4:r=e.sent,i=r.data,o=(0,s.vf)(i,"film_id"),c={},n.forEach((function(t){c[t]=o[t]||null})),v((0,f.Gx)(c)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),a(!0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),w=t?(0,r.Z)(t).sort().join("-"):"",b=t&&Object.keys(g).length===t.length;return(0,o.useEffect)((function(){w&&!b&&m&&Z()}),[w]),[!b,n]}},76197:function(t,e,n){"use strict";var r=n(51705),i=n(29539),a=n(65443),u=n.n(a),o=n(34885),c=n(15607),l=n(74324),s=n(78284),f=n(70878);e.Z=function(t,e){var n=(0,c.v9)((function(t){return{httpContext:t.appState.httpContext,watchList:t.user.watchList,isAuthenticated:t.user.isAuthenticated}}),c.wU),a=n.httpContext,d=n.watchList,p=n.isAuthenticated,m=t?(0,i.Z)(t).sort().join("-"):"",h=(0,o.useState)(!1),g=h[0],v=h[1],Z=(0,o.useState)(!1),w=Z[0],b=Z[1],y=(0,c.I0)(),x=function(){var n=(0,r.Z)(u().mark((function n(){var r,i,o,c;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((r=t.filter((function(t){return!(0,s.nr)(d,t)}))).length>0)){n.next=18;break}return b(!0),n.prev=3,n.next=6,(0,l.jZ)(a,r,e);case 6:i=n.sent,o=i.data.wishes,c=r.map((function(t){var e;return{id:(null===(e=o.find((function(e){return e.film.id===t})))||void 0===e?void 0:e.id)||null,film:{id:t},isLoading:!1}})),y((0,f.Om)(c)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),v(!0);case 15:return n.prev=15,b(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[3,12,15,18]])})));return function(){return n.apply(this,arguments)}}();return(0,o.useEffect)((function(){m&&p&&x()}),[m]),[d,w,g]}},15277:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return it}});var r=n(51705),i=n(29539),a=n(35155),u=n(65443),o=n.n(u),c=n(34885),l=n(15607),s=n(81357),f=n(72545),d=n(28689),p=n(35228),m={GB:"mubi-releases-uk",US:"mubi-releases-us",TR:"mubi-releases-tr",BR:"mubi-releases-br",MX:"mubi-releases-mx",AR:"mubi-releases-ar",IN:"mubi-releases-in",FR:"mubi-releases-fr",IT:"mubi-releases-it",DE:"mubi-releases-de"},h=function(t,e){var n,r,i=t.getState(),a=(null===i||void 0===i||null===(n=i.filmGroup)||void 0===n?void 0:n.filmGroups)||{};return null===(r=Object.values(a))||void 0===r?void 0:r.find((function(t){return t.slug===e}))},g=function(t,e){if(function(t){return t.startsWith("mubi-releases")}(t)){var n=function(t){return m[t]||"mubi-releases"}(e);if(t!==n)return"/specials/".concat(n)}return null},v=function(){var t=(0,r.Z)(o().mark((function t(e,n,r,i){var a,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=h(n,r)){t.next=7;break}return t.next=4,(0,f.mG)(e,r,i);case 4:u=t.sent,a=u.data,n.dispatch((0,p.D1)(a));case 7:return t.abrupt("return",{filmGroup:a});case 8:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),Z=v,w=n(47201),b=n(7307),y=n(46110),x=n(56793),_=n(97094),k=n(56111),E=n(90868),P=n(61260),C=n(43480);var S=(0,a.Z)("a",{target:"elrt4xo0"})({name:"gjjxqh",styles:"font-size:16px;line-height:1.4;display:block;font-weight:bold"}),G=function(t){var e=t.showingExpiredFilms,n=t.setShowingExpiredFilms,r=t.expiredFilmsCount,i=(0,w.Z)("specials").t;return(0,C.tZ)(S,{onClick:function(){return n(!e)},children:e?i("specials:specials.hide_expired_films"):i("specials:specials.show_expired_films",{number_of_films:r})})},O=n(7446),j=n(38191),L=n(27842),q=(n(35232),n(42359)),z=n(69949),B=n(76197),N=n(59851),R=n(51552),A=n(44173),F=n(90686),I=n(80664),T=n(80146),U=function(t){var e=t.film,n=t.filmGroupId,r=t.filmGroupColour,i=t.snowplowElement,a=(0,l.v9)((function(t){return t.user.activeSubscriber})),u=(0,A.Z)(e.id),o=function(t){return u({clickType:t,element:i},{film_id:e.id,film_group_id:n})};return(0,C.tZ)(F.Z,{children:(0,C.tZ)(T.Z,{filmId:e.id,children:(0,C.tZ)(I.Z,{film:e,filmGroupColour:r,showWatchListButton:!0,alwaysShowWatchListed:!0,showRatingMode:"onhover",onTileClick:function(){return o("film_tile")},onPlayButtonClick:function(){return a&&o("film_play")}})})},e.id)};U.defaultProps={filmGroupColour:""};var X=U;var V=(0,a.Z)("div",{target:"ezvy3h30"})({name:"3jn9ym",styles:"width:100%;text-align:center;font-size:25px;padding-top:10px;padding-bottom:50px"}),W=function(t,e){return e("leaving-soon"===t?"specials:specials.leaving_no_films":"your-watchlist"===t?"specials:specials.watchlist_no_films":"specials:specials.special_no_films")},H=function(t,e,n,r){if(0===t.length)return(0,C.tZ)(V,{children:W(e.slug,n)});var i=t.map((function(t){return(0,C.tZ)(X,{film:t,filmGroupId:e.id,snowplowElement:r},t.id)}));return t.length,(0,C.tZ)(N.Z,{children:i})},M=function(t){var e=t.films,n=t.filmGroup,r=t.snowplowElement,i=(0,w.Z)("specials").t,a=e.map((function(t){return t.id}));return(0,z.Z)(a),(0,q.Z)(a),(0,B.Z)(a),(0,C.tZ)(R.Z,{children:H(e,n,i,r)})},D=(0,a.Z)("div",{target:"e1t6ebk80"})("display:flex;justify-content:center;align-items:center;width:100%;height:149px;@media (min-width: ",(function(t){return t.theme.mq.desktop}),"){height:217px;}"),Y=function(t){var e=t.filmGroup,n=t.films,r=t.hasLastPageLoaded,i=t.loadNextPage,a=t.snowplowElement;return r||0!==n.length?(0,C.BX)(C.HY,{children:[(0,C.tZ)(M,{films:n,filmGroup:e,snowplowElement:a}),!r&&(0,C.tZ)(j.df,{onChange:function(t){t&&(r||i())},children:(0,C.tZ)(D,{children:(0,C.tZ)(L.Z,{})})})]}):(0,C.tZ)(D,{children:(0,C.tZ)(L.Z,{})})},K=n(75144);var Q=(0,a.Z)("div",{target:"e1nf693n2"})({name:"7n8kit",styles:"padding-bottom:50px"}),$=(0,a.Z)("div",{target:"e1nf693n1"})("@media (min-width: ",(function(t){return t.theme.mq.tablet}),"){max-width:780px;margin:0 auto;}@media (min-width: ",(function(t){return t.theme.mq.desktop}),"){padding:0 15px;}"),J=(0,a.Z)("div",{target:"e1nf693n0"})({name:"eubhtu",styles:"margin:50px 0"}),tt=function(t,e,n,r,i){var a=t.image,u=(0,d.vo)({urlPath:"/specials/".concat(n),language:e}),o=r?t.full_title:i("specials:specials.special_title",{title:t.full_title});return(0,C.BX)(C.HY,{children:[(0,C.tZ)(P.Z,{title:"".concat(o," | MUBI")}),(0,C.tZ)(E.Z,{canonicalUrl:u,image:a}),(0,C.tZ)(k.Z,{title:t.full_title,url:u,image:a})]})},et=function(t){return t?0===t.length?[]:t.map((function(t){return null===t||void 0===t?void 0:t.film_group_items})).reduce((function(t,e){return Array.isArray(e)?[].concat((0,i.Z)(t),(0,i.Z)(e)):t}),[]).map((function(t){return null===t||void 0===t?void 0:t.film})):[]},nt=function(t){if(!t||!t[t.length-1])return!1;var e=t[t.length-1].meta;return e.current_page>=e.total_pages},rt=function(t){var e,n,i=t.filmGroup,a=t.slug,u=(0,w.Z)("specials"),d=u.t,p=u.lang,m=(0,c.useState)(!1),h=m[0],g=m[1],v=(0,l.v9)((function(t){return t.appState.httpContext})),Z=(0,l.v9)((function(t){return t.user.activeSubscriber})),k=(0,c.useState)([]),E=k[0],P=k[1],S=(0,c.useState)(!1),j=S[0],L=S[1],q=function(){var t=(0,r.Z)(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(!0),t.prev=1,t.next=4,(0,f.l6)(v,i.id);case 4:e=t.sent,n=e.data,P(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),s.Tb(t.t0);case 12:L(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();(0,c.useEffect)((function(){q()}),[i.id]);var z=(0,f.dQ)(v,null===i||void 0===i?void 0:i.id,24,{},!0),B=z.data,N=z.size,A=z.setSize,F=et(B),I=nt(B),T=(0,f.xq)(v,null===i||void 0===i?void 0:i.id,24),U=T.data,X=T.size,V=T.setSize,W=et(U),H=null===U||void 0===U||null===(e=U[0])||void 0===e||null===(n=e.meta)||void 0===n?void 0:n.total_count,M=i.is_season;return(0,C.BX)(C.HY,{children:[tt(i,p,a,M,d),(0,C.tZ)(b.ZP,{}),Z?null:(0,C.tZ)(O.Z,{}),!i.published&&(0,C.tZ)(K.Z,{messageString:"You only see this because you are an admin, this film group is unpublished",allowDismiss:!1}),(0,C.tZ)(y.Z,{filmGroup:i}),(0,C.tZ)(R.Z,{children:(0,C.tZ)($,{children:(0,C.tZ)(x.Z,{filmGroup:i})})}),(0,C.BX)(Q,{children:[(0,C.tZ)(Y,{filmGroup:i,films:F,hasLastPageLoaded:nt(B),loadNextPage:function(){return A(N+1)},snowplowElement:"film_tile"}),I&&W.length>0&&(0,C.tZ)(R.Z,{children:(0,C.tZ)(J,{children:(0,C.tZ)(G,{showingExpiredFilms:h,setShowingExpiredFilms:g,expiredFilmsCount:H})})}),I&&h&&(0,C.tZ)(Y,{filmGroup:i,films:W,hasLastPageLoaded:nt(U),loadNextPage:function(){return V(X+1)},snowplowElement:"expired_film_tile"})]}),M&&(0,C.tZ)(R.Z,{bgColor:"midBackground",children:(0,C.tZ)($,{children:(0,C.tZ)(Q,{children:(0,C.tZ)(_.Z,{filmGroups:E,sectionHeading:d("specials:specials.more_seasons"),showLoading:j})})})})]})};rt.getInitialProps=function(){var t=(0,r.Z)(o().mark((function t(e){var n,r,i,a,u,c,l,s,f,p,m,h,v,w,b,y;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.store,u=e.query,c=e.isServer,l=e.res,s=["common","showing","specials","film_actions","promo"],f=a.getState(),p=null===f||void 0===f||null===(n=f.appState)||void 0===n?void 0:n.httpContext,m=null===f||void 0===f||null===(r=f.user)||void 0===r?void 0:r.currentLanguage,h=null===f||void 0===f||null===(i=f.user)||void 0===i?void 0:i.geoLocation,!(v=g(u.specialsSlug,h))){t.next=10;break}return(0,d.V$)(c,v,l),t.abrupt("return",{namespacesRequired:s});case 10:return t.prev=10,t.next=13,Z(p,a,u.specialsSlug,24);case 13:return w=t.sent,b=w.filmGroup,t.abrupt("return",{filmGroup:b,slug:u.specialsSlug,namespacesRequired:s});case 18:return t.prev=18,t.t0=t.catch(10),y=(0,d.vo)({urlPath:"/showing",language:m}),(0,d.V$)(c,y,l),t.abrupt("return",{namespacesRequired:s});case 23:case"end":return t.stop()}}),t,null,[[10,18]])})));return function(e){return t.apply(this,arguments)}}();var it=rt},34214:function(t,e,n){"use strict";n.d(e,{NN:function(){return v},Vi:function(){return w},WV:function(){return m},_b:function(){return p},b0:function(){return b},cE:function(){return h},fh:function(){return g},h1:function(){return f},rG:function(){return Z},rX:function(){return d},tq:function(){return y}});var r=n(51705),i=n(65443),a=n.n(i),u=n(8131),o=n.n(u),c=n(35654),l=n(67958),s=(o().number,o().number,o().string,o().number,o().number,o().number,o().bool,o().string,o().string,o().shape({id:o().number,name:o().string,canonical_url:o().string,avatar_url:o().string}),o().bool,function(t){return t.length>0?"?film_ids[]=".concat(t.join("&film_ids[]=")):""}),f=function(t,e){return(0,l.ZP)(t).get("/ratings/".concat(e))},d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i={};return null!==n&&(i.rating=n),null!==r&&(i.body=r),(0,l.ZP)(t).put("/ratings/".concat(e),{data:i})},p=function(t,e){return(0,l.ZP)(t).deleteRequest("/ratings/".concat(e))},m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;return(0,l.ZP)(t).get("/ratings/".concat(e,"/ranked?page=").concat(n,"&per_page=").concat(r))},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=s(e);return(0,l.ZP)(t).get("/user/ratings".concat(n))},g=function(t){var e=t.httpContext,n=t.userId,r=t.currentCursor,i=t.perPage;return(0,l.ZP)(e).get("/users/".concat(n,"/ratings?").concat((0,c.u3)(r,i)))},v=function(t,e){return(0,l.ZP)(t).get("/ratings/".concat(e,"/comments"))},Z=function(t,e,n){return new Promise((function(i,u){if("undefined"!==typeof grecaptcha)try{grecaptcha.enterprise.ready((0,r.Z)(a().mark((function r(){var u,o;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,grecaptcha.enterprise.execute("6Leny7AUAAAAABnijVtQaHmmFIgfhCGwUWV2FEWN",{action:"comment"});case 2:return u=r.sent,r.next=5,(0,l.ZP)(t).post("/ratings/".concat(e,"/comments"),{data:{body:n,recaptcha_token:u,recaptcha_action:"comment"}});case 5:o=r.sent,i(o);case 7:case"end":return r.stop()}}),r)}))))}catch(o){u(o)}else u(new Error("grecaptcha not initialised"))}))},w=function(t,e){return(0,l.ZP)(t).post("/ratings/".concat(e,"/flagging"))},b=function(t,e){return(0,l.ZP)(t).deleteRequest("/ratings/".concat(e,"/flagging"))},y=function(t,e){return(0,l.ZP)(t).get("/ratings/".concat(e,"/flagging"))}},16006:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/specials/[specialsSlug]",function(){return n(15277)}])}},function(t){t.O(0,[89831,60552,36381,90083,75144,45311,59219,7307,88075,80664,60512,15065,7446,74327,81104,89109,97094,49774,92888,40179],(function(){return e=16006,t(t.s=e);var e}));var e=t.O();_N_E=e}]);
//# sourceMappingURL=[specialsSlug]-99bf62469801abcd.js.map